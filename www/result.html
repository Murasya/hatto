<ons-page>
  <div class="background" style="background-color: #E8F6FD;"></div>
  <div id="resultVue">
    <p class="theme">{{ theme }}</p>
    <select v-model="category">
      <option disabled value="">カテゴリ</option>
    </select>
    <div v-for="index in answers.length-1" class="items">
      <p>{{ index }}</p>
      <p>{{ questions[index] }}</p>
      <p>{{ answers[index] }}</p>
    </div>
    <textarea v-model="memo"></textarea>
    <select v-model="success">
      <option disabled value="">分析はうまくいった？</option>
      <option>はい</option>
      <option>いいえ</option>
      <option>どちらともいえない</option>
    </select><br>
    <button @click="saveButtonClick">記録する</button><br>
    <button>Tweet</button>
  </div>

  <script>
    var myNavigator = document.querySelector('#myNavigator')
    ons.getScriptPage().onInit = function() {
      var qAndA = myNavigator.topPage.data.qAndA
      console.log(qAndA)
      var vm = new Vue({
        el: '#resultVue',
        data: {
          theme: qAndA.answers[0],
          questions: qAndA.questions,
          answers: qAndA.answers,
          memo: '',
          success: '',
          category: ''
        },
        methods: {
          saveButtonClick: function() {
            qAndA.memo = this.memo;
            qAndA.success = this.success;
            qAndA.category = this.category;
            setNewData(qAndA)
            myNavigator.resetToPage('index.html')
          }
        }
      });
    }
  </script>
</ons-page>